<div class="row g-3 mb-4">
    <!-- Tipo de Fornecedor -->
    <div class="col-md-3">
        <div class="form-floating">
            <select class="form-select supplier-type-select" id="{{ form.supplier_type.id_for_label }}"
                    name="{{ form.supplier_type.html_name }}"
                    data-action="supplier-type-change">
                {% for value, label in form.supplier_type.field.choices %}
                    <option value="{{ value }}" {% if form.supplier_type.value|stringformat:"s" == value|stringformat:"s" %}selected{% endif %}>
                        {{ label }}
                    </option>
                {% endfor %}
            </select>
            <label for="{{ form.supplier_type.id_for_label }}" class="text-navy">
                {{ form.supplier_type.label }}
                <span class="text-danger">*</span>
            </label>
        </div>
        {% if form.supplier_type.errors %}
        <div class="invalid-feedback d-block">
            {{ form.supplier_type.errors|join:", " }}
        </div>
        {% endif %}
    </div>

    <!-- Razão Social/Nome Completo -->
    <div class="col-md-5">
        <div class="form-floating">
            <input type="text" class="form-control {% if form.full_name.errors %}is-invalid{% endif %}" 
                   id="{{ form.full_name.id_for_label }}"
                   name="{{ form.full_name.html_name }}"
                   placeholder=" "
                   value="{{ form.full_name.value|default_if_none:'' }}">
            <label for="{{ form.full_name.id_for_label }}" class="text-navy">
                {{ form.full_name.label }}
                <span class="text-danger">*</span>
            </label>
        </div>
        {% if form.full_name.errors %}
        <div class="invalid-feedback d-block">
            {{ form.full_name.errors|join:", " }}
        </div>
        {% endif %}
    </div>

    <!-- Nome Fantasia/Apelido -->
    <div class="col-md-4">
        <div class="form-floating">
            <input type="text" class="form-control {% if form.preferred_name.errors %}is-invalid{% endif %}"
                   id="{{ form.preferred_name.id_for_label }}"
                   name="{{ form.preferred_name.html_name }}"
                   placeholder=" "
                   value="{{ form.preferred_name.value|default_if_none:'' }}">
            <label for="{{ form.preferred_name.id_for_label }}" class="text-navy">
                {{ form.preferred_name.label }}
            </label>
        </div>
        {% if form.preferred_name.errors %}
        <div class="invalid-feedback d-block">
            {{ form.preferred_name.errors|join:", " }}
        </div>
        {% endif %}
    </div>
</div>

<div class="row g-3 mb-4">
    <!-- CPF/CNPJ -->
    <div class="col-md-4">
        <div class="input-group">
            <div class="form-floating">
                <input type="text" class="form-control {% if form.tax_id.errors %}is-invalid{% endif %}"
                    id="{{ form.tax_id.id_for_label }}"
                    name="{{ form.tax_id.html_name }}"
                    placeholder=" "
                    value="{{ form.tax_id.value|default_if_none:'' }}"
                    data-action="document-input"
                    pattern="\d*"
                    inputmode="numeric">
                <label for="{{ form.tax_id.id_for_label }}" class="text-navy">
                    {{ form.tax_id.label }} <span class="text-danger">*</span>
                </label>
            </div>
            <button class="btn btn-brown" type="button" id="search-tax-id" disabled>
                <i class="bi bi-search"></i>
            </button>
        </div>
        {% if form.tax_id.errors %}
        <div class="invalid-feedback d-block">
            {{ form.tax_id.errors|join:", " }}
        </div>
        {% endif %}
        <small class="form-text text-muted">Somente números</small>
    </div>

    <!-- Inscrição Estadual (visível apenas para PJ) -->
    <div class="col-md-4" id="state-registration-field">
        <div class="form-floating">
            <input type="text" class="form-control {% if form.state_registration.errors %}is-invalid{% endif %}"
                   id="{{ form.state_registration.id_for_label }}"
                   name="{{ form.state_registration.html_name }}"
                   placeholder=" "
                   value="{{ form.state_registration.value|default_if_none:'' }}">
            <label for="{{ form.state_registration.id_for_label }}" class="text-navy">
                {{ form.state_registration.label }}
            </label>
        </div>
        {% if form.state_registration.errors %}
        <div class="invalid-feedback d-block">
            {{ form.state_registration.errors|join:", " }}
        </div>
        {% endif %}
    </div>

    <!-- Inscrição Municipal (visível apenas para PJ) -->
    <div class="col-md-4" id="municipal-registration-field">
        <div class="form-floating">
            <input type="text" class="form-control {% if form.municipal_registration.errors %}is-invalid{% endif %}"
                   id="{{ form.municipal_registration.id_for_label }}"
                   name="{{ form.municipal_registration.html_name }}"
                   placeholder=" "
                   value="{{ form.municipal_registration.value|default_if_none:'' }}">
            <label for="{{ form.municipal_registration.id_for_label }}" class="text-navy">
                {{ form.municipal_registration.label }}
            </label>
        </div>
        {% if form.municipal_registration.errors %}
        <div class="invalid-feedback d-block">
            {{ form.municipal_registration.errors|join:", " }}
        </div>
        {% endif %}
    </div>
    
    <!-- Status Ativo -->
    <div class="col-md-12">
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" 
                   id="{{ form.is_active.id_for_label }}"
                   name="{{ form.is_active.html_name }}"
                   {% if form.is_active.value %}checked{% endif %}>
            <label class="form-check-label" for="{{ form.is_active.id_for_label }}">
                {{ form.is_active.label }}
            </label>
        </div>
        {% if form.is_active.errors %}
        <div class="invalid-feedback d-block">
            {{ form.is_active.errors|join:", " }}
        </div>
        {% endif %}
    </div>


</div>